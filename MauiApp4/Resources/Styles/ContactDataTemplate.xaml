<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <DataTemplate x:Key="ContactItem">
        <Frame Background="{StaticResource NSecondary}"
               Padding="10" 
               Margin="5"
               BorderColor="#444444">
            <Grid ColumnDefinitions="1*,2*,1*">

                <Image Grid.Column="0"
                       Source="user.png"
                       Aspect="AspectFit"
                       HeightRequest="60"
                       WidthRequest="60"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"/>

                <VerticalStackLayout Grid.Column="1" 
                                     Spacing="5"
                                     VerticalOptions="Center">
                    <Label Text="{Binding FullName}"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="Black"/>
                    <Label Text="{Binding Phone}" 
                           FontSize="14"
                           TextColor="Black"/>
                    <Label Text="{Binding Email}" 
                           FontSize="12"
                           TextColor="Black"/>
                </VerticalStackLayout>

                <VerticalStackLayout Grid.Column="2" 
                                     Spacing="10"
                                     VerticalOptions="Center">
                    <Button Text="Изменить" 
                            BackgroundColor="Green"
                            TextColor="White"
                            HeightRequest="40"
                            Command="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, 
                                      Path=BindingContext.EditContactCommand}"
                            CommandParameter="{Binding}"/>

                    <Button Text="Удалить"
                            BackgroundColor="Red"
                            TextColor="White"
                            HeightRequest="40"
                            Command="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}},
                                      Path=BindingContext.DeleteContactCommand}"
                            CommandParameter="{Binding}"/>
                </VerticalStackLayout>
            </Grid>
        </Frame>
    </DataTemplate>

    <DataTemplate x:Key="EmptyContact">
        <Frame Background="{StaticResource NSecondary}"
               Padding="20">
            <VerticalStackLayout>
                <Label Text="Нет контактов" 
                       FontSize="18"
                       HorizontalOptions="Center"
                       TextColor="White"/>
                <Button Text="Обновить" 
                        BackgroundColor="#007bff"
                        TextColor="White"
                        Margin="0,10,0,0"
                        Command="{Binding UpdateCommand}"/>
            </VerticalStackLayout>
        </Frame>
    </DataTemplate>
</ResourceDictionary>